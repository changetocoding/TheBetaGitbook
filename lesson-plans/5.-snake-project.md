# 5. Snake project

## Lesson objectives

* Students practise/conslidate JS knowledge by making a game
* Students learn to follow a tutorial

## Lesson time to deliever:

1 sessions, 1.5hrs

## Teacher instruction

* Maybe pair students?

## Snake game

Get students to create a snake game by following one of below guides:

* [https://www.studytonight.com/post/snake-game-in-html-and-javascript](https://www.studytonight.com/post/snake-game-in-html-and-javascript)
* [https://www.codeexplained.org/2018/08/create-snake-game-using-javascript.html](https://www.codeexplained.org/2018/08/create-snake-game-using-javascript.html)  - This one has a youtube video explaination

Completed example \([https://codepen.io/arkev/pen/pDdoL?editors=0010](https://codepen.io/arkev/pen/pDdoL?editors=0010)\)

{% hint style="info" %}
They must add some additional features to the game and get everyone to present and ask questions about their code \(so they don't just copy and paste the tutorial!!!\)
{% endhint %}



## Instructions

#### 1. Create canvas

```markup
<canvas id="canvas" width="400" height="400"></canvas>
```

#### 2. Check created correctly. Explain variables. Case is important

```javascript
const canvas = document.getElementById('canvas');
const ctx = canvas.getContext('2d');
const width = 400;
const height = 400;
// other way of declaring variable is let. will explain later

ctx.fillStyle = "white";
ctx.fillRect(0, 0, width, height);
ctx.strokeStyle = "black";
ctx.strokeRect(0, 0, width, height);
```

#### 3. Function

```javascript
function drawBoard(){
  // alert("Hello");
  ctx.fillStyle = "white";
  ctx.fillRect(0, 0, width, height);
  ctx.strokeStyle = "black";
  ctx.strokeRect(0, 0, width, height);
}

drawBoard();
```

#### 4. Paint a cell. Demo in Paint what will do

* Resize canvas
* Draw 2d shape. Line type and fill

![Explain Coordinate system and how it matches up to pixels](../.gitbook/assets/image%20%2812%29.png)

```javascript
 const cw = 10; // cell width
 
 function paintCell(x, y){
		ctx.fillStyle = "blue";
		ctx.fillRect(x*cw, y*cw, cw, cw);
		ctx.strokeStyle = "white";
		ctx.strokeRect(x*cw, y*cw, cw, cw);
	}
	
	
paintCell(3,2);
```

#### 5. Create a snake

Explain for loop \(instead of manually typing, computer count\) and arrays

![](../.gitbook/assets/image%20%289%29.png)

```javascript
	let snake;  // let as will change
	
	function createSnake()
	{
		let length = 5; //Length of the snake
		snake_array = []; //Empty array to start with
		for(let i = length-1; i>=0; i--)
		{
			//This will create a horizontal snake starting from the top left
			snake_array.push({x: i, y:0});
		}
	}
	
```

#### 6. Draw snake

```javascript
function drawSnake()
{
    for(let i=0; i<snake.length; i++)
    {
        // to demo 
        console.log("snake[" + i+ "].x = " + snake[i].x)
        console.log("snake[" + i+ "].y = " + snake[i].y)
      
        paintCell(snake[i].x, snake[i].y);
    }
}
drawSnake();
```

7. Lets make the snake move

![](../.gitbook/assets/image%20%2811%29.png)

```javascript
let dir = "right";
let game_loop;

function moveSnake()
{ 
  var newX = snake[0].x;
  var newY = snake[0].y;
  
  if(dir == "right") newX++;
  else if(dir == "left") newX--;
  else if(dir == "up") newY--;
  else if(dir == "down") newY++;
  
  var tail = snake.pop(); //pops out the last cell
	tail.x = newX; 
  tail.y = newY;
	snake.unshift(tail); //puts back the tail as the first cell
}

function paint(){
  drawBoard();
  moveSnake();
  drawSnake();
}

function init(){
    createSnake();

  	if(typeof game_loop != "undefined") clearInterval(game_loop);
		game_loop = setInterval(paint, 60);
}


init();
```

